webpackJsonp([0],{"./scripts/app.js":function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r("./styles/app.scss"),s=(n(a),r("./scripts/document-ready.js")),i=n(s),c=r("./scripts/layer-animations.js"),o=n(c),l=r("./scripts/layer-drag-and-drop.js"),u=n(l);(0,i.default)(o.default,u.default)},"./scripts/document-ready.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];"interactive"===document.readyState||"complete"===document.readyState?t.forEach(function(e){return e()}):t.forEach(function(e){return document.addEventListener("DOMContentLoaded",e)})};t.default=n},"./scripts/layer-animations.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./scripts/layer-utils.js"),a=e(".c-layer"),s=e(".c-layers"),i=function t(r){var n=r.first().prev();return n.length?e.Deferred(function(e){r.insertBefore(n),setTimeout(function(){e.resolve(t(r))},200)}):r.promise()},c=function(t){a.off("click"),t.parent().children().last().animate({height:"480px"},{duration:300,start:function(){e(this).removeClass("c-layer--selected"),e(this).addClass("c-layer--visited")},complete:function(){var r=t.nextAll(),s=r.length;e.Deferred(function(t){e(r.get().reverse()).each(function(n,a){setTimeout(function(){e(a).addClass("c-layer--hide"),n===s-1&&setTimeout(function(){t.resolve(r)},150)},150*n)})}).then(i).then(function(r){e(r.get().reverse()).each(function(t,r){setTimeout(function(){e(r).removeClass("c-layer--hide")},200*t)});var s=t.parent(),i=(0,n.calculateLayerHeight)(t),c=(0,n.calculateContainerHeight)(t);t.addClass("c-layer--selected"),s.animate({height:c+"px"},{duration:500}),t.animate({height:i+"px"},{duration:500,start:function(){e(this).addClass("c-layer--selected")},complete:function(){a.on("click",o)}})})}})},o=function(t){var r=e(t.currentTarget);r.hasClass("c-layer--selected")||c(r)};t.default=function(){a.on("click",o),s.each(function(t,r){var a=e(r).find(".c-layer--selected");a.css("height",(0,n.calculateLayerHeight)(a)),e(r).css("height",(0,n.calculateContainerHeight)(a))})}}).call(t,r("../node_modules/jquery/dist/jquery.js"))},"./scripts/layer-drag-and-drop.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./scripts/layer-utils.js"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),s=e(".c-layer"),i=e(".c-layer__icon-drag"),c=void 0,o=function(e){e.off("mouseleave"),e.off("mouseenter"),setTimeout(function(){e.on("mouseleave",l),e.on("mouseenter",u)},100)},l=function(e){if(c&&1===e.buttons){c.finish();var t=e.relatedTarget;a.isOutOfLayers(t)&&(c.insertBefore(c.siblings().first()),c.addClass("c-layer--drop"))}},u=function(t){if(c&&1===t.buttons){var r=t.delegateTarget;r!==c&&a.isNextSibling(c,r)&&(o(e(r)),c.insertAfter(r),c.addClass("c-layer--drop")),r!==c&&a.isPreviousSibling(c.prev(),r)&&(o(e(r)),c.insertBefore(r.nextElementSibling),c.addClass("c-layer--drop"))}},d=function(){if(c){var t=c.parent(),r=t.children().last(),n=a.calculateLayerHeight(r),s=a.calculateContainerHeight(r);e(document.body).removeClass("h-layer--body-grabbing"),c.removeClass("c-layer--dragging"),r.addClass("c-layer--selected"),t.animate({height:s+"px"},{duration:500}),r.animate({height:n+"px"},{duration:500,start:function(){e(this).addClass("c-layer--selected")}}),c.removeClass("c-layer--drop"),c=void 0}},f=function(t){t.preventDefault(),c=e(t.target).parent().parent(),e(c).addClass("c-layer--dragging")},y=function(t){e(document.body).addClass("h-layer--body-grabbing"),t.preventDefault(),t.stopPropagation(),e(t.delegateTarget).parent().children().last().animate({height:"480px"},{duration:300,start:function(){e(this).removeClass("c-layer--selected"),e(this).addClass("c-layer--visited")}})};t.default=function(){i.on("dragstart",f),s.on("dragstart",".c-layer__icon-drag",y),s.on("mouseleave",l),s.on("mouseenter",u),e(window).on("mouseup",d)}}).call(t,r("../node_modules/jquery/dist/jquery.js"))},"./scripts/layer-utils.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.isOutOfLayers=function(e){return e.classList.contains("c-layers")||!Array.from(e.classList).some(function(e){return e.match(/^c-layer/)})},t.isNextSibling=function(e,t){return e.nextAll().is(t)},t.isPreviousSibling=function(e,t){return e.prevAll().is(t)},t.calculateLayerHeight=function(e){var t=e.children().toArray().reduce(function(e,t){return t.offsetHeight+e},2);return t<480?480:t});t.calculateContainerHeight=function(e){return e.siblings().toArray().reduce(function(e,t){return t.querySelector(".c-layer__header").offsetHeight+e},n(e))}},"./styles/app.scss":function(e,t){}},["./scripts/app.js"]);
//# sourceMappingURL=app.bundle.54ea437cef97cfd19928.js.map